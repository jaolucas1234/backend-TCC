generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Genero {
  MASCULINO
  FEMININO
}

enum Sexo {
  MASCULINO
  FEMININO
}

enum TipoExer {
  Peito
  lombar
  dorsal
  trapezio
  abdomen
  biceps
  triceps
  Ombros
  quadriceps
  posterior
  gluteos
  panturrilha
}

model User {
  id_user       Int              @id @default(autoincrement())
  nome          String
  email         String           @unique
  senha         String           @db.VarChar(255)
  nascimento    DateTime
  genero        Genero
  Dadosfisicos  DadosFisicos[]
  Dadosmentais  DadosMentais[]
  Diario        Diario[]
  medUser       MedUser[]
  treinos       Treino[]
}

model DadosFisicos {
  id_dadosfisicos Int     @id @default(autoincrement())
  user            User    @relation(fields: [id_user], references: [id_user])
  id_user         Int
  altura          Float
  peso            Float
  idade           Int
  sexo            Sexo
  exeReg          String
  obj             String
  deli            String?
}

model DadosMentais {
  id_dadosmentais Int     @id @default(autoincrement())
  user            User    @relation(fields: [id_user], references: [id_user])
  id_user         Int
  sonoPerDia      Int
  trabPerDia      Int
  tempHobby       Int
  transt          String?
}

model Diario {
  id_diario         Int     @id @default(autoincrement())
  user              User    @relation(fields: [id_user], references: [id_user])
  id_user           Int
  exercicio_feitos  Int
  calorias_gastas   Float
  copos_bebidos     Int
  metros_andados    Int
  dia               DateTime @default(now())
  lastupdate        DateTime @updatedAt
}


model Meditacao {
  id_meditacao Int      @id @default(autoincrement())
  nome         String
  descricao    String
  medUser      MedUser[]
}

model MedUser {
  id_med_user  Int       @id @default(autoincrement())
  user         User      @relation(fields: [id_user], references: [id_user])
  id_user      Int
  meditacao    Meditacao @relation(fields: [id_meditacao], references: [id_meditacao])
  id_meditacao Int
  data         DateTime  @default(now())
  duracao      Int
}

model Exercicio {
  id_exercicio Int         @id @default(autoincrement())
  nome         String
  tipo         TipoExer
  descricao    String
  img          String
  ExerSelec    ExerSelec[]
}

model ExerSelec {
  id_ExerSelec Int          @id @default(autoincrement())
  exercicio    Exercicio    @relation(fields: [id_exercicio], references: [id_exercicio])
  id_exercicio Int
  series       Int
  repeticoes   Int
  peso         Float?
  treinosLink  TreinosLink[]
}

model TreinosLink {
  id_link     Int      @id @default(autoincrement())
  exerSelec   ExerSelec @relation(fields: [id_ExerSelec], references: [id_ExerSelec])
  id_ExerSelec Int
  treino      Treino    @relation(fields: [id_treino], references: [id_treino])
  id_treino   Int
}

model Treino {
  id_treino    Int          @id @default(autoincrement())
  nome         String
  user         User         @relation(fields: [id_user], references: [id_user])
  id_user      Int
  treinosLinks TreinosLink[]
}